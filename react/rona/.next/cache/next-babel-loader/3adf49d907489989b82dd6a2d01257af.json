{"ast":null,"code":"var _jsxFileName = \"/Users/chenxinchu/LESSON_SHUIDI/react/rona/components/Stats.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport useStats from '../utils/useStats';\nimport Stats from './Stats';\nimport { useState } from 'react';\nexport default function CountrySelector() {\n  var _this = this;\n\n  // vuex  useStats 数据中心\n  // useStats 被两个差不多的组件复用了， 大部分业务都是这样的\n  // 一个数据请求在mounted 发生， setStats \n  var _useStats = useStats('https://covid19.mathdro.id/api/countries'),\n      countries = _useStats.stats,\n      loading = _useStats.loading,\n      error = _useStats.error; // console.log(countries); //mvvm \n\n\n  var _useState = useState('USA'),\n      selectedCountry = _useState[0],\n      setSelectedCountry = _useState[1];\n\n  if (loading) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 23\n    }\n  }, \"Loading....\");\n  if (error) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 21\n    }\n  }, \"Error....\");\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, \"Currently Showing \", selectedCountry), __jsx(\"select\", {\n    onChange: function onChange(e) {\n      setSelectedCountry(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, countries.countries.map(function (country) {\n    return __jsx(\"option\", {\n      key: country.name,\n      value: country.iso3,\n      selected: country.iso3 === selectedCountry,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }\n    }, country.iso3);\n  })), __jsx(Stats, {\n    url: \"https://covid19.mathdro.id/api/countries/\".concat(selectedCountry),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }));\n} // useState  跨组件提供状态  替代  redux","map":{"version":3,"sources":["/Users/chenxinchu/LESSON_SHUIDI/react/rona/components/Stats.js"],"names":["useStats","Stats","useState","CountrySelector","countries","stats","loading","error","selectedCountry","setSelectedCountry","e","target","value","map","country","name","iso3"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,mBAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,eAAe,SAASC,eAAT,GAA2B;AAAA;;AACxC;AACA;AACA;AAHwC,kBAIKH,QAAQ,CAAC,0CAAD,CAJb;AAAA,MAIzBI,SAJyB,aAIhCC,KAJgC;AAAA,MAIdC,OAJc,aAIdA,OAJc;AAAA,MAILC,KAJK,aAILA,KAJK,EAKxC;;;AALwC,kBAMML,QAAQ,CAAC,KAAD,CANd;AAAA,MAMjCM,eANiC;AAAA,MAMhBC,kBANgB;;AAOxC,MAAIH,OAAJ,EAAa,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAP;AACb,MAAIC,KAAJ,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AACX,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAuBC,eAAvB,CADF,EAEE;AACE,IAAA,QAAQ,EAAE,kBAAAE,CAAC,EAAE;AACXD,MAAAA,kBAAkB,CAACC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AACD,KAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMIR,SAAS,CAACA,SAAV,CAAoBS,GAApB,CAAwB,UAAAC,OAAO;AAAA,WAC7B;AACE,MAAA,GAAG,EAAEA,OAAO,CAACC,IADf;AAEE,MAAA,KAAK,EAAED,OAAO,CAACE,IAFjB;AAGE,MAAA,QAAQ,EAAEF,OAAO,CAACE,IAAR,KAAiBR,eAH7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIGM,OAAO,CAACE,IAJX,CAD6B;AAAA,GAA/B,CANJ,CAFF,EAkBE,MAAC,KAAD;AAAO,IAAA,GAAG,qDAA8CR,eAA9C,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,CADF;AAsBD,C,CACD","sourcesContent":["import useStats from '../utils/useStats';\nimport Stats from './Stats';\nimport { useState } from 'react';\n\nexport default function CountrySelector() {\n  // vuex  useStats 数据中心\n  // useStats 被两个差不多的组件复用了， 大部分业务都是这样的\n  // 一个数据请求在mounted 发生， setStats \n  const { stats: countries, loading, error } = useStats('https://covid19.mathdro.id/api/countries');\n  // console.log(countries); //mvvm \n  const [selectedCountry, setSelectedCountry] = useState('USA');\n  if (loading) return <p>Loading....</p>\n  if (error) return <p>Error....</p>\n  return (\n    <div >\n      <h2>Currently Showing {selectedCountry}</h2>\n      <select\n        onChange={e=>{\n          setSelectedCountry(e.target.value)\n        }}\n      >\n        {\n          countries.countries.map(country => (\n            <option\n              key={country.name}\n              value={country.iso3}\n              selected={country.iso3 === selectedCountry}>\n              {country.iso3}\n            </option>\n          ))\n        }\n      </select>\n      <Stats url={`https://covid19.mathdro.id/api/countries/${selectedCountry}`}></Stats>\n    </div>\n  )\n}\n// useState  跨组件提供状态  替代  redux "]},"metadata":{},"sourceType":"module"}